<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Lined Paper Whiteboard</title>
    <link href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.0.0/css/all.min.css" rel="stylesheet">
</head>
<body style="margin: 0; background: #f0f4f8; font-family: 'Segoe UI', system-ui, -apple-system, sans-serif;">
    <div style="display: flex; height: 100vh;">
       
        <div style="background: #2c3e50; width: 80px; padding: 20px; display: flex; flex-direction: column; align-items: center; gap: 20px; box-shadow: 2px 0 10px rgba(0,0,0,0.1);">
            <div style="color: white; font-size: 24px; margin-bottom: 20px;">
                <i class="fas fa-pencil-alt"></i>
            </div>
         
            <div style="display: flex; flex-direction: column; gap: 10px; align-items: center;">
                <button onclick="setColor('#000000')" style="width: 30px; height: 30px; border-radius: 50%; background: #000000; border: 2px solid white; cursor: pointer;"></button>
                <button onclick="setColor('#e74c3c')" style="width: 30px; height: 30px; border-radius: 50%; background: #e74c3c; border: 2px solid white; cursor: pointer;"></button>
                <button onclick="setColor('#3498db')" style="width: 30px; height: 30px; border-radius: 50%; background: #3498db; border: 2px solid white; cursor: pointer;"></button>
                <button onclick="setColor('#2ecc71')" style="width: 30px; height: 30px; border-radius: 50%; background: #2ecc71; border: 2px solid white; cursor: pointer;"></button>
                <button onclick="setColor('#f1c40f')" style="width: 30px; height: 30px; border-radius: 50%; background: #f1c40f; border: 2px solid white; cursor: pointer;"></button>
            </div>

           
            <div style="width: 100%; padding: 10px 0;">
                <input type="range" id="brushSize" min="1" max="20" value="5" style="width: 100%; -webkit-appearance: none; background: #34495e; height: 4px; border-radius: 2px; outline: none;">
            </div>

           
            <button onclick="clearCanvas()" style="width: 40px; height: 40px; border-radius: 50%; background: #e74c3c; border: none; color: white; cursor: pointer; display: flex; align-items: center; justify-content: center; transition: transform 0.2s;">
                <i class="fas fa-trash-alt"></i>
            </button>
        </div>

      
        <div style="flex-grow: 1; position: relative; background: #fff; box-shadow: inset 0 0 20px rgba(0,0,0,0.05); overflow: hidden;">
          
            <canvas id="backgroundCanvas" style="position: absolute; top: 0; left: 0;"></canvas>
        
            <canvas id="whiteboard" style="position: absolute; top: 0; left: 0;"></canvas>
        </div>
    </div>

    <script>
        const canvas = document.getElementById('whiteboard');
        const bgCanvas = document.getElementById('backgroundCanvas');
        const ctx = canvas.getContext('2d');
        const bgCtx = bgCanvas.getContext('2d');
        const brushSize = document.getElementById('brushSize');
        let currentColor = '#000000';

        function drawPaperLines() {
            const width = bgCanvas.width;
            const height = bgCanvas.height;
            
            bgCtx.fillStyle = '#ffffff';
            bgCtx.fillRect(0, 0, width, height);

        
            bgCtx.beginPath();
            bgCtx.strokeStyle = '#ff9999';
            bgCtx.lineWidth = 1;
            bgCtx.moveTo(60, 0);
            bgCtx.lineTo(60, height);
            bgCtx.stroke();

           
            bgCtx.beginPath();
            bgCtx.strokeStyle = '#c1c7cd';
            bgCtx.lineWidth = 1;
            const lineSpacing = 25;
            for(let y = lineSpacing; y < height; y += lineSpacing) {
                bgCtx.moveTo(0, y);
                bgCtx.lineTo(width, y);
            }
            bgCtx.stroke();
        }

        function resizeCanvas() {
            const container = canvas.parentElement;
            canvas.width = container.clientWidth;
            canvas.height = container.clientHeight;
            bgCanvas.width = container.clientWidth;
            bgCanvas.height = container.clientHeight;
            drawPaperLines();
        }

        resizeCanvas();
        window.addEventListener('resize', resizeCanvas);

        let isDrawing = false;
        let lastX = 0;
        let lastY = 0;

        function setColor(color) {
            currentColor = color;
            document.querySelectorAll('[onclick^="setColor"]').forEach(btn => {
                btn.style.transform = 'scale(1)';
                if(btn.getAttribute('onclick').includes(color)) {
                    btn.style.transform = 'scale(1.2)';
                }
            });
        }

        function startDrawing(e) {
            isDrawing = true;
            [lastX, lastY] = [e.offsetX, e.offsetY];
        }

        function draw(e) {
            if (!isDrawing) return;
            
            ctx.beginPath();
            ctx.moveTo(lastX, lastY);
            ctx.lineTo(e.offsetX, e.offsetY);
            ctx.strokeStyle = currentColor;
            ctx.lineWidth = brushSize.value;
            ctx.lineCap = 'round';
            ctx.lineJoin = 'round';
            ctx.stroke();
            
            [lastX, lastY] = [e.offsetX, e.offsetY];
        }

        function stopDrawing() {
            isDrawing = false;
        }

        function clearCanvas() {
            ctx.clearRect(0, 0, canvas.width, canvas.height);
        }

     
        canvas.addEventListener('mousedown', startDrawing);
        canvas.addEventListener('mousemove', draw);
        canvas.addEventListener('mouseup', stopDrawing);
        canvas.addEventListener('mouseout', stopDrawing);

       
        canvas.addEventListener('touchstart', (e) => {
            e.preventDefault();
            const touch = e.touches[0];
            const rect = canvas.getBoundingClientRect();
            const mouseEvent = new MouseEvent('mousedown', {
                clientX: touch.clientX - rect.left,
                clientY: touch.clientY - rect.top
            });
            canvas.dispatchEvent(mouseEvent);
        });

        canvas.addEventListener('touchmove', (e) => {
            e.preventDefault();
            const touch = e.touches[0];
            const rect = canvas.getBoundingClientRect();
            const mouseEvent = new MouseEvent('mousemove', {
                clientX: touch.clientX - rect.left,
                clientY: touch.clientY - rect.top
            });
            canvas.dispatchEvent(mouseEvent);
        });

        canvas.addEventListener('touchend', (e) => {
            e.preventDefault();
            const mouseEvent = new MouseEvent('mouseup', {});
            canvas.dispatchEvent(mouseEvent);
        });

        brushSize.style.background = '#34495e';
        brushSize.addEventListener('input', function() {
            const value = (this.value - this.min) / (this.max - this.min) * 100;
            this.style.background = `linear-gradient(to right, #3498db ${value}%, #34495e ${value}%)`;
        });
    </script>
</body>
</html>
